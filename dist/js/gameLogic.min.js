"use strict";var allSpans,gameMode,startSite=document.querySelector(".starter-site"),testSite=document.querySelector(".test-site"),summarySite=document.querySelector(".summary-site"),testText=document.querySelector(".test-site__text p"),inputField=document.querySelector(".test-site__input"),statsHeader=document.querySelector(".test-site__header"),statsContainer=document.querySelector(".test-site__actual-stats"),statsRemainingTime=document.querySelector("#remaining-time"),statsWPM=document.querySelector("#wpm"),statsCPM=document.querySelector("#cpm"),statsAccuracy=document.querySelector("#accuracy"),summarySiteWPM=document.querySelector("#summary-site-wpm"),summarySiteAccuracy=document.querySelector("#summary-site-accuracy"),btn1minute=document.querySelector("#btn-1"),btnFullText=document.querySelector("#btn-full"),charactersPerMinute=0,wordsPerMinute=0,accuracy=0,goodLetter=0,wrongLetter=0,actualLetter=0,letterToType=actualLetter+1,gameTimeRemaining=60,doNotRepeatTimer=0,generateText=function(){var e=Math.floor(15*Math.random()),t=Math.floor(15*Math.random()+15),a=Math.floor((randomSentences.length-30)*Math.random()+30);"".concat(randomSentences[e]," ").concat(randomSentences[t]," ").concat(randomSentences[a]).split("").forEach(function(e){e='<span style="padding: .6px;margin: .4px;">'.concat(e,"</span>");testText.innerHTML+=e}),(allSpans=document.querySelectorAll(".test-site__text p > span"))[0].classList.add("letter-to-type")},startTimer=function(){window.setInterval(function(){0<gameTimeRemaining?gameTimeRemaining--:endGame(),statsRemainingTime.innerHTML=gameTimeRemaining+"s",updateStats()},1e3)},showStats=function(){statsHeader.style.display="none",statsContainer.style.display="flex"},updateStats=function(){wordsPerMinute=Math.round(goodLetter/5/(61-gameTimeRemaining)*60),charactersPerMinute=Math.round(goodLetter/(61-gameTimeRemaining)*60),accuracy=0==actualLetter?0:Math.round(goodLetter/(goodLetter+wrongLetter)*100),statsWPM.innerText="".concat(wordsPerMinute),statsCPM.innerText="".concat(charactersPerMinute),statsAccuracy.innerText="".concat(accuracy,"%")},startGame=function(){startSite.style.display="none",testSite.style.display="flex",generateText(),document.addEventListener("keydown",function(){return inputField.focus()}),testText.addEventListener("click",function(){return inputField.focus()})},gameLogic=function(e){var t=testText.innerText.split("");if(inputField.value.split("")[actualLetter]===t[actualLetter]?(allSpans[actualLetter].className="",allSpans[actualLetter].classList.add("correct-letter"),allSpans[letterToType].classList.add("letter-to-type"),actualLetter++,letterToType++,goodLetter++):inputField.value.split("")[actualLetter]?(allSpans[actualLetter].className="",allSpans[actualLetter].classList.add("incorrect-letter"),allSpans[letterToType].classList.add("letter-to-type"),actualLetter++,letterToType++,wrongLetter++):(e.key="backspace",allSpans[actualLetter].className="",letterToType--,allSpans[--actualLetter].classList.contains("correct-letter")?goodLetter--:wrongLetter--,allSpans[letterToType-1].classList.add("letter-to-type")),1==gameMode&&1==inputField.value.split("").length){if(0!=doNotRepeatTimer)return;doNotRepeatTimer=1,startTimer(),showStats()}updateStats()},fullTimeGameMode=function(){startGame(),gameMode=0},remainingTimeGameMode=function(){startGame(),gameMode=1},endGame=function(){testSite.style.display="none",summarySite.style.display="flex",summarySiteWPM.innerText=Math.round(goodLetter/5),summarySiteAccuracy.innerText=Math.round(goodLetter/(goodLetter+wrongLetter)*100)};btn1minute.addEventListener("click",remainingTimeGameMode()),btnFullText.addEventListener("click",fullTimeGameMode),inputField.addEventListener("input",gameLogic);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWVMb2dpYy5qcyJdLCJuYW1lcyI6WyJ0ZXN0VGV4dCIsImxldHRlclRvVHlwZSIsInN0YXJ0U2l0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRlc3RTaXRlIiwiaW5wdXRGaWVsZCIsInN0YXRzSGVhZGVyIiwic3RhdHNDb250YWluZXIiLCJzdGF0c1JlbWFpbmluZ1RpbWUiLCJzdGF0c1dQTSIsInN0YXRzQ1BNIiwic3RhdHNBY2N1cmFjeSIsImJ0bjFtaW51dGUiLCJidG5GdWxsVGV4dCIsImNoYXJhY3RlcnNQZXJNaW51dGUiLCJ3b3Jkc1Blck1pbnV0ZSIsImFjY3VyYWN5IiwiZ29vZExldHRlciIsIndyb25nTGV0dGVyIiwiYWN0dWFsTGV0dGVyIiwiZ2FtZVRpbWVSZW1haW5pbmciLCJnZW5lcmF0ZVRleHQiLCJyYW5kb21OdW1iZXIxIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tTnVtYmVyMiIsInJhbmRvbU51bWJlcjMiLCJyYW5kb21TZW50ZW5jZXMiLCJsZW5ndGgiLCJjb25jYXQiLCJzcGxpdCIsImZvckVhY2giLCJsZXR0ZXIiLCJsZXR0ZXJUYWciLCJ0ZXN0VGV4dENvbnRlbnQiLCJhbGxTcGFucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJhZGQiLCJzdGFydFRpbWVyIiwid2luZG93IiwiZW5kR2FtZSIsImlubmVySFRNTCIsInVwZGF0ZVN0YXRzIiwic2hvd1N0YXRzIiwic3R5bGUiLCJkaXNwbGF5Iiwicm91bmQiLCJpbm5lclRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9jdXMiLCJnYW1lTG9naWMiLCJlIiwidmFsdWUiLCJhbGxMZXR0ZXJzIiwiY2xhc3NOYW1lIiwia2V5IiwiY29udGFpbnMiLCJnYW1lTW9kZSIsImRvTm90UmVwZWF0VGltZXIiLCJzdGFydEdhbWUiLCJzdW1tYXJ5U2l0ZVdQTSIsInN1bW1hcnlTaXRlQWNjdXJhY3kiLCJzdW1tYXJ5U2l0ZSIsInJlbWFpbmlu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Q3BCZSxZQUFBbEIsTUFBQUMsUUFBQSxPQUZBZSxlQUFlYixVQUFZMUIsS0FBS3lCLE1BQU0vQixXQUFhLENBQUMsRUFJckQ4QyxvQkFBQWQsVUFBQTFCLEtBQUF5QixNQUFBL0IsWUFBQUEsV0FBQUMsYUFBQSxHQUFBLENBQ0FOLEVBQUFBLFdBQVdzQyxpQkFBaUIsUUFBU2Usc0JBQXNCLENBQUMsRUFDNURwRCxZQUFZcUMsaUJBQWlCLFFBQVNnQixnQkFBZ0IsRUFDdEQ3RCxXQUFXNkMsaUJBQWlCLFFBQVNFLFNBQVMiLCJmaWxlIjoiZ2FtZUxvZ2ljLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNpdGVzXG5jb25zdCBzdGFydFNpdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhcnRlci1zaXRlJylcbmNvbnN0IHRlc3RTaXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3Qtc2l0ZScpXG5jb25zdCBzdW1tYXJ5U2l0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdW1tYXJ5LXNpdGUnKVxuXG4vLyBFbGVtZW50c1xuY29uc3QgdGVzdFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdC1zaXRlX190ZXh0IHAnKVxuY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXN0LXNpdGVfX2lucHV0JylcbmxldCBhbGxTcGFuc1xuXG4vLyBTdGF0cyBlbGVtZW50c1xuY29uc3Qgc3RhdHNIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdC1zaXRlX19oZWFkZXInKVxuY29uc3Qgc3RhdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdC1zaXRlX19hY3R1YWwtc3RhdHMnKVxuY29uc3Qgc3RhdHNSZW1haW5pbmdUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbWFpbmluZy10aW1lJylcbmNvbnN0IHN0YXRzV1BNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dwbScpXG5jb25zdCBzdGF0c0NQTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjcG0nKVxuY29uc3Qgc3RhdHNBY2N1cmFjeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhY2N1cmFjeScpXG5jb25zdCBzdW1tYXJ5U2l0ZVdQTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdW1tYXJ5LXNpdGUtd3BtJylcbmNvbnN0IHN1bW1hcnlTaXRlQWNjdXJhY3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VtbWFyeS1zaXRlLWFjY3VyYWN5JylcblxuLy8gQnV0dG9uc1xuY29uc3QgYnRuMW1pbnV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidG4tMScpXG5jb25zdCBidG5GdWxsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidG4tZnVsbCcpXG5cbi8vIEhlbHAgdmFyaWFibGVzXG5sZXQgY2hhcmFjdGVyc1Blck1pbnV0ZSA9IDBcbmxldCB3b3Jkc1Blck1pbnV0ZSA9IDBcbmxldCBhY2N1cmFjeSA9IDBcbmxldCBnb29kTGV0dGVyID0gMFxubGV0IHdyb25nTGV0dGVyID0gMFxubGV0IGFjdHVhbExldHRlciA9IDBcbmxldCBsZXR0ZXJUb1R5cGUgPSBhY3R1YWxMZXR0ZXIgKyAxXG5sZXQgZ2FtZVRpbWVSZW1haW5pbmcgPSA2MFxubGV0IGdhbWVNb2RlXG5sZXQgZG9Ob3RSZXBlYXRUaW1lciA9IDBcblxuLy8gRnVuY3Rpb25zXG5cbmNvbnN0IGdlbmVyYXRlVGV4dCA9ICgpID0+IHtcblx0Ly8gR2VuZXJhdGluZyAzIHJhbmRvbSBudW1iZXJzLCB0aGVuIGNyZWF0ZSB0ZXh0IHdpdGggMyBlbGVtZW50cyBmcm9tIHJhbmRvbVNlbnRlbmNlcy5qc1xuXG5cdGxldCByYW5kb21OdW1iZXIxID0gTWF0aC5mbG9vcigxNSAqIE1hdGgucmFuZG9tKCkpXG5cdGxldCByYW5kb21OdW1iZXIyID0gTWF0aC5mbG9vcigxNSAqIE1hdGgucmFuZG9tKCkgKyAxNSlcblx0bGV0IHJhbmRvbU51bWJlcjMgPSBNYXRoLmZsb29yKChyYW5kb21TZW50ZW5jZXMubGVuZ3RoIC0gMzApICogTWF0aC5yYW5kb20oKSArIDMwKVxuXHRjb25zdCB0ZXN0VGV4dENvbnRlbnQgPSBgJHtyYW5kb21TZW50ZW5jZXNbcmFuZG9tTnVtYmVyMV19ICR7cmFuZG9tU2VudGVuY2VzW3JhbmRvbU51bWJlcjJdfSAke3JhbmRvbVNlbnRlbmNlc1tyYW5kb21OdW1iZXIzXX1gXG5cblx0Ly8gU3BsaXQgZ2FtZSB0ZXh0IGxldHRlcnMgdG8gc3BhbnMgKGJlYWN1c2UgaXQgaXMgZWFzaWVyIHRvIGNoZWNrIHdyb25nL2dvb2QgbGV0dGVyIGxhdGVyKVxuXHR0ZXN0VGV4dENvbnRlbnQuc3BsaXQoJycpLmZvckVhY2gobGV0dGVyID0+IHtcblx0XHRsZXQgbGV0dGVyVGFnID0gYDxzcGFuIHN0eWxlPVwicGFkZGluZzogLjZweDttYXJnaW46IC40cHg7XCI+JHtsZXR0ZXJ9PC9zcGFuPmBcblx0XHR0ZXN0VGV4dC5pbm5lckhUTUwgKz0gbGV0dGVyVGFnXG5cdH0pXG5cblx0Ly8gRGVjbGFyZSBzcGFucyBhbmQgZ2l2ZSBhbmltYXRpb24gdG8gZmlyc3Qgc3BhblxuXHRhbGxTcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXN0LXNpdGVfX3RleHQgcCA+IHNwYW4nKVxuXHRhbGxTcGFuc1swXS5jbGFzc0xpc3QuYWRkKCdsZXR0ZXItdG8tdHlwZScpXG59XG5cbmNvbnN0IHN0YXJ0VGltZXIgPSAoKSA9PiB7XG5cdHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdFx0Z2FtZVRpbWVSZW1haW5pbmcgPiAwID8gZ2FtZVRpbWVSZW1haW5pbmctLSA6IGVuZEdhbWUoKVxuXHRcdHN0YXRzUmVtYWluaW5nVGltZS5pbm5lckhUTUwgPSBnYW1lVGltZVJlbWFpbmluZyArICdzJ1xuXHRcdHVwZGF0ZVN0YXRzKClcblx0fSwgMTAwMClcbn1cblxuY29uc3Qgc2hvd1N0YXRzID0gKCkgPT4ge1xuXHRzdGF0c0hlYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cdHN0YXRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcbn1cblxuY29uc3QgdXBkYXRlU3RhdHMgPSAoKSA9PiB7XG5cdHdvcmRzUGVyTWludXRlID0gTWF0aC5yb3VuZCgoZ29vZExldHRlciAvIDUgLyAoNjEgLSBnYW1lVGltZVJlbWFpbmluZykpICogNjApXG5cdGNoYXJhY3RlcnNQZXJNaW51dGUgPSBNYXRoLnJvdW5kKChnb29kTGV0dGVyIC8gKDYxIC0gZ2FtZVRpbWVSZW1haW5pbmcpKSAqIDYwKVxuXHRhY3R1YWxMZXR0ZXIgPT0gMCA/IChhY2N1cmFjeSA9IDApIDogKGFjY3VyYWN5ID0gTWF0aC5yb3VuZCgoZ29vZExldHRlciAvIChnb29kTGV0dGVyICsgd3JvbmdMZXR0ZXIpKSAqIDEwMCkpXG5cdHN0YXRzV1BNLmlubmVyVGV4dCA9IGAke3dvcmRzUGVyTWludXRlfWBcblx0c3RhdHNDUE0uaW5uZXJUZXh0ID0gYCR7Y2hhcmFjdGVyc1Blck1pbnV0ZX1gXG5cdHN0YXRzQWNjdXJhY3kuaW5uZXJUZXh0ID0gYCR7YWNjdXJhY3l9JWBcbn1cblxuY29uc3Qgc3RhcnRHYW1lID0gKCkgPT4ge1xuXHRzdGFydFNpdGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXHR0ZXN0U2l0ZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG5cdGdlbmVyYXRlVGV4dCgpXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiBpbnB1dEZpZWxkLmZvY3VzKCkpXG5cdHRlc3RUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaW5wdXRGaWVsZC5mb2N1cygpKVxufVxuXG5jb25zdCBnYW1lTG9naWMgPSBlID0+IHtcblx0Y29uc3QgYWxsTGV0dGVycyA9IHRlc3RUZXh0LmlubmVyVGV4dC5zcGxpdCgnJylcblx0aWYgKGlucHV0RmllbGQudmFsdWUuc3BsaXQoJycpW2FjdHVhbExldHRlcl0gPT09IGFsbExldHRlcnNbYWN0dWFsTGV0dGVyXSkge1xuXHRcdGFsbFNwYW5zW2FjdHVhbExldHRlcl0uY2xhc3NOYW1lID0gJydcblx0XHRhbGxTcGFuc1thY3R1YWxMZXR0ZXJdLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QtbGV0dGVyJylcblx0XHRhbGxTcGFuc1tsZXR0ZXJUb1R5cGVdLmNsYXNzTGlzdC5hZGQoJ2xldHRlci10by10eXBlJylcblx0XHRhY3R1YWxMZXR0ZXIrK1xuXHRcdGxldHRlclRvVHlwZSsrXG5cdFx0Z29vZExldHRlcisrXG5cdH0gZWxzZSBpZiAoaW5wdXRGaWVsZC52YWx1ZS5zcGxpdCgnJylbYWN0dWFsTGV0dGVyXSkge1xuXHRcdGFsbFNwYW5zW2FjdHVhbExldHRlcl0uY2xhc3NOYW1lID0gJydcblx0XHRhbGxTcGFuc1thY3R1YWxMZXR0ZXJdLmNsYXNzTGlzdC5hZGQoJ2luY29ycmVjdC1sZXR0ZXInKVxuXHRcdGFsbFNwYW5zW2xldHRlclRvVHlwZV0uY2xhc3NMaXN0LmFkZCgnbGV0dGVyLXRvLXR5cGUnKVxuXHRcdGFjdHVhbExldHRlcisrXG5cdFx0bGV0dGVyVG9UeXBlKytcblx0XHR3cm9uZ0xldHRlcisrXG5cdH0gZWxzZSBpZiAoKGUua2V5ID0gJ2JhY2tzcGFjZScpKSB7XG5cdFx0YWxsU3BhbnNbYWN0dWFsTGV0dGVyXS5jbGFzc05hbWUgPSAnJ1xuXHRcdGFjdHVhbExldHRlci0tXG5cdFx0bGV0dGVyVG9UeXBlLS1cblx0XHRhbGxTcGFuc1thY3R1YWxMZXR0ZXJdLmNsYXNzTGlzdC5jb250YWlucygnY29ycmVjdC1sZXR0ZXInKSA/IGdvb2RMZXR0ZXItLSA6IHdyb25nTGV0dGVyLS1cblx0XHRhbGxTcGFuc1tsZXR0ZXJUb1R5cGUgLSAxXS5jbGFzc0xpc3QuYWRkKCdsZXR0ZXItdG8tdHlwZScpXG5cdH1cblxuXHRpZiAoZ2FtZU1vZGUgPT0gMSAmJiBpbnB1dEZpZWxkLnZhbHVlLnNwbGl0KCcnKS5sZW5ndGggPT0gMSkge1xuXHRcdGlmIChkb05vdFJlcGVhdFRpbWVyID09IDApIHtcblx0XHRcdGRvTm90UmVwZWF0VGltZXIgPSAxXG5cdFx0XHRzdGFydFRpbWVyKClcblx0XHRcdHNob3dTdGF0cygpXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblx0fVxuXHR1cGRhdGVTdGF0cygpXG59XG5cbmNvbnN0IGZ1bGxUaW1lR2FtZU1vZGUgPSAoKSA9PiB7XG5cdHN0YXJ0R2FtZSgpXG5cdGdhbWVNb2RlID0gMFxufVxuXG5jb25zdCByZW1haW5pbmdUaW1lR2FtZU1vZGUgPSAoKSA9PiB7XG5cdHN0YXJ0R2FtZSgpXG5cdGdhbWVNb2RlID0gMVxufVxuXG5jb25zdCBlbmRHYW1lID0gKCkgPT4ge1xuXHR0ZXN0U2l0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cdHN1bW1hcnlTaXRlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcblx0c3VtbWFyeVNpdGVXUE0uaW5uZXJUZXh0ID0gTWF0aC5yb3VuZChnb29kTGV0dGVyIC8gNSlcblx0c3VtbWFyeVNpdGVBY2N1cmFjeS5pbm5lclRleHQgPSBNYXRoLnJvdW5kKChnb29kTGV0dGVyIC8gKGdvb2RMZXR0ZXIgKyB3cm9uZ0xldHRlcikpICogMTAwKVxufVxuXG4vLyBMaXN0ZW5lcnNcbmJ0bjFtaW51dGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1haW5pbmdUaW1lR2FtZU1vZGUoKSlcbmJ0bkZ1bGxUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVsbFRpbWVHYW1lTW9kZSlcbmlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnYW1lTG9naWMpXG4iXX0=
