"use strict";var allSpans,gameTimeRemaining,gameMode,startSite=document.querySelector(".starter-site"),testSite=document.querySelector(".test-site"),summarySite=document.querySelector(".summary-site"),testText=document.querySelector(".test-site__text p"),inputField=document.querySelector(".test-site__input"),statsHeader=document.querySelector(".test-site__header"),statsContainer=document.querySelector(".test-site__actual-stats"),statsRemainingTime=document.querySelector("#remaining-time"),statsWPM=document.querySelector("#wpm"),statsCPM=document.querySelector("#cpm"),statsAccuracy=document.querySelector("#accuracy"),summarySiteWPM=document.querySelector("#summary-site-wpm"),summarySiteAccuracy=document.querySelector("#summary-site-accuracy"),btn1minute=document.querySelector("#btn-1"),btnFullText=document.querySelector("#btn-full"),tryAgainBtn=document.querySelector("#try-again-btn"),homeBtn=document.querySelector("#home-page-btn"),charactersPerMinute=0,wordsPerMinute=0,accuracy=0,goodLetter=0,wrongLetter=0,actualLetter=0,letterToType=actualLetter+1,gameTimeGone=0,doNotRepeatTimer=0,generateText=function(){var e=Math.floor(15*Math.random()),t=Math.floor(15*Math.random()+15),a=Math.floor((randomSentences.length-30)*Math.random()+30);"".concat(randomSentences[e]," ").concat(randomSentences[t]," ").concat(randomSentences[a]).split("").forEach(function(e){e='<span style="padding: .6px;margin: .4px;">'.concat(e,"</span>");testText.innerHTML+=e}),(allSpans=document.querySelectorAll(".test-site__text p > span"))[0].classList.add("letter-to-type")},startTimer=(generateText(),function(){1==gameMode?(gameTimeRemaining=60,window.setInterval(function(){0<gameTimeRemaining?gameTimeRemaining--:endGame(),statsRemainingTime.innerHTML=gameTimeRemaining+"s",updateStats()},1e3)):0==gameMode&&(statsRemainingTime.innerHTML="&infin;",window.setInterval(function(){gameTimeGone++,updateStats()},1e3))}),showStats=function(){statsHeader.style.display="none",statsContainer.style.display="flex"},updateStats=function(){1==gameMode?(wordsPerMinute=Math.round(goodLetter/5/(60-gameTimeRemaining)*60),charactersPerMinute=Math.round(goodLetter/(60-gameTimeRemaining)*60),wordsPerMinute==1/0&&(charactersPerMinute=wordsPerMinute="-")):0==gameMode&&(wordsPerMinute=Math.round(goodLetter/5/gameTimeGone*60),charactersPerMinute=Math.round(goodLetter/gameTimeGone*60),wordsPerMinute==1/0)&&(charactersPerMinute=wordsPerMinute="-"),accuracy=0==actualLetter?0:Math.round(goodLetter/(goodLetter+wrongLetter)*100),statsWPM.innerText="".concat(wordsPerMinute),statsCPM.innerText="".concat(charactersPerMinute),statsAccuracy.innerText="".concat(accuracy,"%")},startGame=function(){startSite.style.display="none",testSite.style.display="flex",document.addEventListener("keydown",function(){return inputField.focus()}),testText.addEventListener("click",function(){return inputField.focus()})},gameLogic=function(e){var t=testText.innerText.split("");inputField.value.split("")[actualLetter]===t[actualLetter]?(allSpans[actualLetter].className="",allSpans[actualLetter].classList.add("correct-letter"),null!=allSpans[letterToType]&&allSpans[letterToType].classList.add("letter-to-type"),actualLetter++,letterToType++,goodLetter++):inputField.value.split("")[actualLetter]?(allSpans[actualLetter].className="",allSpans[actualLetter].classList.add("incorrect-letter"),null!=allSpans[letterToType]&&allSpans[letterToType].classList.add("letter-to-type"),actualLetter++,letterToType++,wrongLetter++):(e.key="backspace",allSpans[actualLetter].className="",letterToType--,allSpans[--actualLetter].classList.contains("correct-letter")?goodLetter--:wrongLetter--,allSpans[letterToType-1].classList.add("letter-to-type")),1==gameMode&&1==inputField.value.split("").length&&0==doNotRepeatTimer&&(doNotRepeatTimer=1,startTimer(),showStats()),0==gameMode&&1==inputField.value.split("").length&&0==doNotRepeatTimer&&(doNotRepeatTimer=1,startTimer(),showStats()),updateStats(),inputField.value.split("").length==t.length&&endGame()},fullTimeGameMode=function(){startGame(),gameMode=0},remainingTimeGameMode=function(){startGame(),gameMode=1},endGame=function(){testSite.style.display="none",summarySite.style.display="flex",summarySiteWPM.innerText=wordsPerMinute,summarySiteAccuracy.innerText=Math.round(goodLetter/(goodLetter+wrongLetter)*100)},goHome=function(){location.reload()};btn1minute.addEventListener("click",remainingTimeGameMode),btnFullText.addEventListener("click",fullTimeGameMode),inputField.addEventListener("input",gameLogic),homeBtn.addEventListener("click",goHome);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWVMb2dpYy5qcyJdLCJuYW1lcyI6WyJ0ZXN0VGV4dCIsImFjdHVhbExldHRlciIsImdhbWVUaW1lUmVtYWluaW5nIiwic3RhcnRTaXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGVzdFNpdGUiLCJpbnB1dEZpZWxkIiwic3RhdHNIZWFkZXIiLCJzdGF0c0NvbnRhaW5lciIsInN0YXRzUmVtYWluaW5nVGltZSIsInN0YXRzV1BNIiwic3RhdHNDUE0iLCJzdGF0c0FjY3VyYWN5IiwiYnRuMW1pbnV0ZSIsImJ0bkZ1bGxUZXh0IiwiY2hhcmFjdGVyc1Blck1pbnV0ZSIsIndvcmRzUGVyTWludXRlIiwiYWNjdXJhY3kiLCJnb29kTGV0dGVyIiwid3JvbmdMZXR0ZXIiLCJsZXR0ZXJUb1R5cGUiLCJnYW1lVGltZUdvbmUiLCJnZW5lcmF0ZVRleHQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21OdW1iZXIyIiwicmFuZG9tTnVtYmVyMyIsInJhbmRvbVNlbnRlbmNlcyIsImxlbmd0aCIsImNvbmNhdCIsInNwbGl0IiwiZm9yRWFjaCIsImxldHRlciIsInRlc3RUZXh0Q29udGVudCIsImxldHRlclRhZyIsImFsbFNwYW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImdhbWVNb2RlIiwid2luZG93IiwiaW5uZXJIVE1MIiwidXBkYXRlU3RhdHMiLCJzZXRJbnRlcnZhbCIsInN0eWxlIiwiZGlzcGxheSIsInJvdW5kIiwiSW5maW5pdHkiLCJpbm5lclRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9jdXMiLCJnYW1lTG9naWMiLCJlIiwiYWxsTGV0dGVycyIsInZhbHVlIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwiY29udGFpbnMiLCJkb05vdFJlcGVhdFRpbWVyIiwic3RhcnRUaW1lciIsInNob3dTdGF0cyIsImVuZEdhbWUiLCJzdGFydEdhbWUiLCJyZW1haW5pbmdUaW1lR2FtZU1vZGUiLCJzdW1tYXJ5U2l0ZVdQTSIsInN1bW1hcnlTaXRlQWNjdXJhY3kiLCJzdW1tYXJ5U2l0ZSIsImdvSG9tZSIsInJlbG9hZCIsImhvbWVCdG4iXSwibWFwcGluZ3MiOiJhQUNBLElBS01BLFNBMEJGQyxrQkFFQUMsU0FqQ0VDLFVBQVlDLFNBQVNDLGNBQWMsZUFBZSxFQUR4REMsU0FBQUYsU0FBQUMsY0FBQSxZQUFBLEVBQ01GLFlBQVlDLFNBQVNDLGNBQWMsZUFBZ0IsRUFLbkRMLFNBQVdJLFNBQVNDLGNBQWMsb0JBQW9CLEVBRDVERSxXQUFBSCxTQUFBQyxjQUFBLG1CQUFBLEVBTU1HLFlBQWNKLFNBQVNDLGNBQWMsb0JBQW9CLEVBRC9ESSxlQUFBTCxTQUFBQyxjQUFBLDBCQUFBLEVBQ01HLG1CQUF1QkgsU0FBQUEsY0FBYyxpQkFBcUIsRUFDMURJLFNBQUFBLFNBQWlCTCxjQUFTQyxNQUFjLEVBQ3hDSyxTQUFBQSxTQUFxQk4sY0FBU0MsTUFBQUEsRUFDOUJNLGNBQVdQLFNBQVNDLGNBQXFCLFdBQUEsRUFDekNPLGVBQW1CUixTQUFDQyxjQUFxQixtQkFBQSxFQUN6Q1Esb0JBQXdCVCxTQUFDQyxjQUFjLHdCQUFZLEVBS25EUyxXQUFhVixTQUFTQyxjQUFjLFFBQVEsRUFEbERVLFlBQUFYLFNBQUFDLGNBQUEsV0FBQSxFQUNNUyxZQUFhVixTQUFTQyxjQUFjLGdCQUFTLEVBQzdDVSxRQUFXWCxTQUFHQSxjQUFTQyxnQkFBMEIsRUFLbkRXLG9CQUFzQixFQUQxQkMsZUFBQSxFQUNJRCxTQUFBQSxFQUNBQyxXQUFBQSxFQUNBQyxZQUFZLEVBQ1pDLGFBQWMsRUFDZEMsYUFBZW5CLGFBQUEsRUFFZm9CLGFBQWVwQixFQUVmcUIsaUJBQWdCLEVBT2RDLGFBQWUsV0FBckIsSUFBTUEsRUFBZUMsS0FBQUMsTUFBZkYsR0FBQUEsS0FBWUcsT0FBUyxDQUFBLEVBQzFCQyxFQUFBSCxLQUFBQyxNQUFBLEdBQUFELEtBQUFFLE9BQUEsRUFBQSxFQUFBLEVBQ0FFLEVBQWlCSixLQUFPQyxPQUFPSSxnQkFBZ0JDLE9BQUcsSUFBQU4sS0FBQUUsT0FB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b2dpYy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaXRlc1xuY29uc3Qgc3RhcnRTaXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0ZXItc2l0ZScpXG5jb25zdCB0ZXN0U2l0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXN0LXNpdGUnKVxuY29uc3Qgc3VtbWFyeVNpdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VtbWFyeS1zaXRlJylcblxuLy8gRWxlbWVudHNcbmNvbnN0IHRlc3RUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3Qtc2l0ZV9fdGV4dCBwJylcbmNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdC1zaXRlX19pbnB1dCcpXG5sZXQgYWxsU3BhbnNcblxuLy8gU3RhdHMgZWxlbWVudHNcbmNvbnN0IHN0YXRzSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3Qtc2l0ZV9faGVhZGVyJylcbmNvbnN0IHN0YXRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3Qtc2l0ZV9fYWN0dWFsLXN0YXRzJylcbmNvbnN0IHN0YXRzUmVtYWluaW5nVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZW1haW5pbmctdGltZScpXG5jb25zdCBzdGF0c1dQTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3cG0nKVxuY29uc3Qgc3RhdHNDUE0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3BtJylcbmNvbnN0IHN0YXRzQWNjdXJhY3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWNjdXJhY3knKVxuY29uc3Qgc3VtbWFyeVNpdGVXUE0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VtbWFyeS1zaXRlLXdwbScpXG5jb25zdCBzdW1tYXJ5U2l0ZUFjY3VyYWN5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1bW1hcnktc2l0ZS1hY2N1cmFjeScpXG5cbi8vIEJ1dHRvbnNcbmNvbnN0IGJ0bjFtaW51dGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuLTEnKVxuY29uc3QgYnRuRnVsbFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuLWZ1bGwnKVxuY29uc3QgdHJ5QWdhaW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdHJ5LWFnYWluLWJ0bicpXG5jb25zdCBob21lQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hvbWUtcGFnZS1idG4nKVxuXG4vLyBIZWxwIHZhcmlhYmxlc1xubGV0IGNoYXJhY3RlcnNQZXJNaW51dGUgPSAwXG5sZXQgd29yZHNQZXJNaW51dGUgPSAwXG5sZXQgYWNjdXJhY3kgPSAwXG5sZXQgZ29vZExldHRlciA9IDBcbmxldCB3cm9uZ0xldHRlciA9IDBcbmxldCBhY3R1YWxMZXR0ZXIgPSAwXG5sZXQgbGV0dGVyVG9UeXBlID0gYWN0dWFsTGV0dGVyICsgMVxubGV0IGdhbWVUaW1lUmVtYWluaW5nXG5sZXQgZ2FtZVRpbWVHb25lID0gMFxubGV0IGdhbWVNb2RlXG5sZXQgZG9Ob3RSZXBlYXRUaW1lciA9IDBcblxuLy8gRnVuY3Rpb25zXG5cbi8vIEdlbmVyYXRpbmcgdGV4dCBmb3IgdGVzdFxuY29uc3QgZ2VuZXJhdGVUZXh0ID0gKCkgPT4ge1xuXHQvLyBHZW5lcmF0aW5nIDMgcmFuZG9tIG51bWJlcnMsIHRoZW4gY3JlYXRlIHRleHQgd2l0aCAzIGVsZW1lbnRzIGZyb20gcmFuZG9tU2VudGVuY2VzLmpzXG5cdGxldCByYW5kb21OdW1iZXIxID0gTWF0aC5mbG9vcigxNSAqIE1hdGgucmFuZG9tKCkpXG5cdGxldCByYW5kb21OdW1iZXIyID0gTWF0aC5mbG9vcigxNSAqIE1hdGgucmFuZG9tKCkgKyAxNSlcblx0bGV0IHJhbmRvbU51bWJlcjMgPSBNYXRoLmZsb29yKChyYW5kb21TZW50ZW5jZXMubGVuZ3RoIC0gMzApICogTWF0aC5yYW5kb20oKSArIDMwKVxuXG5cdGNvbnN0IHRlc3RUZXh0Q29udGVudCA9IGAke3JhbmRvbVNlbnRlbmNlc1tyYW5kb21OdW1iZXIxXX0gJHtyYW5kb21TZW50ZW5jZXNbcmFuZG9tTnVtYmVyMl19ICR7cmFuZG9tU2VudGVuY2VzW3JhbmRvbU51bWJlcjNdfWBcblxuXHQvLyBTcGxpdCBnYW1lIHRleHQgbGV0dGVycyB0byBzcGFucyAoYmVhY3VzZSBpdCBpcyBlYXNpZXIgdG8gY2hlY2sgd3JvbmcvZ29vZCBsZXR0ZXIgbGF0ZXIpXG5cdHRlc3RUZXh0Q29udGVudC5zcGxpdCgnJykuZm9yRWFjaChsZXR0ZXIgPT4ge1xuXHRcdGxldCBsZXR0ZXJUYWcgPSBgPHNwYW4gc3R5bGU9XCJwYWRkaW5nOiAuNnB4O21hcmdpbjogLjRweDtcIj4ke2xldHRlcn08L3NwYW4+YFxuXHRcdHRlc3RUZXh0LmlubmVySFRNTCArPSBsZXR0ZXJUYWdcblx0fSlcblxuXHQvLyBEZWNsYXJlIHNwYW5zIGFuZCBnaXZlIGFuaW1hdGlvbiB0byBmaXJzdCBzcGFuXG5cdGFsbFNwYW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlc3Qtc2l0ZV9fdGV4dCBwID4gc3BhbicpXG5cdGFsbFNwYW5zWzBdLmNsYXNzTGlzdC5hZGQoJ2xldHRlci10by10eXBlJylcbn1cblxuZ2VuZXJhdGVUZXh0KClcblxuY29uc3Qgc3RhcnRUaW1lciA9ICgpID0+IHtcblx0aWYgKGdhbWVNb2RlID09IDEpIHtcblx0XHRnYW1lVGltZVJlbWFpbmluZyA9IDYwXG5cdFx0d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0XHRcdGdhbWVUaW1lUmVtYWluaW5nID4gMCA/IGdhbWVUaW1lUmVtYWluaW5nLS0gOiBlbmRHYW1lKClcblx0XHRcdHN0YXRzUmVtYWluaW5nVGltZS5pbm5lckhUTUwgPSBnYW1lVGltZVJlbWFpbmluZyArICdzJ1xuXHRcdFx0dXBkYXRlU3RhdHMoKVxuXHRcdH0sIDEwMDApXG5cdH0gZWxzZSBpZiAoZ2FtZU1vZGUgPT0gMCkge1xuXHRcdHN0YXRzUmVtYWluaW5nVGltZS5pbm5lckhUTUwgPSBgJmluZmluO2Bcblx0XHR3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0Z2FtZVRpbWVHb25lKytcblx0XHRcdHVwZGF0ZVN0YXRzKClcblx0XHR9LCAxMDAwKVxuXHR9XG59XG5cbi8vIFNob3dpbmcgc3RhdGlzdGljcyBkdXJpbmcgdGhlIHRlc3RcbmNvbnN0IHNob3dTdGF0cyA9ICgpID0+IHtcblx0c3RhdHNIZWFkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXHRzdGF0c0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG59XG5cbi8vIFVwZGF0aW5nIHN0YXRpc3RpY3MgZHVyaW5nIHRoZSB0ZXN0XG5jb25zdCB1cGRhdGVTdGF0cyA9ICgpID0+IHtcblx0aWYgKGdhbWVNb2RlID09IDEpIHtcblx0XHR3b3Jkc1Blck1pbnV0ZSA9IE1hdGgucm91bmQoKGdvb2RMZXR0ZXIgLyA1IC8gKDYwIC0gZ2FtZVRpbWVSZW1haW5pbmcpKSAqIDYwKVxuXHRcdGNoYXJhY3RlcnNQZXJNaW51dGUgPSBNYXRoLnJvdW5kKChnb29kTGV0dGVyIC8gKDYwIC0gZ2FtZVRpbWVSZW1haW5pbmcpKSAqIDYwKVxuXHRcdGlmICh3b3Jkc1Blck1pbnV0ZSA9PSBJbmZpbml0eSkge1xuXHRcdFx0d29yZHNQZXJNaW51dGUgPSBgLWBcblx0XHRcdGNoYXJhY3RlcnNQZXJNaW51dGUgPSBgLWBcblx0XHR9XG5cdH0gZWxzZSBpZiAoZ2FtZU1vZGUgPT0gMCkge1xuXHRcdHdvcmRzUGVyTWludXRlID0gTWF0aC5yb3VuZCgoZ29vZExldHRlciAvIDUgLyBnYW1lVGltZUdvbmUpICogNjApXG5cdFx0Y2hhcmFjdGVyc1Blck1pbnV0ZSA9IE1hdGgucm91bmQoKGdvb2RMZXR0ZXIgLyBnYW1lVGltZUdvbmUpICogNjApXG5cdFx0aWYgKHdvcmRzUGVyTWludXRlID09IEluZmluaXR5KSB7XG5cdFx0XHR3b3Jkc1Blck1pbnV0ZSA9IGAtYFxuXHRcdFx0Y2hhcmFjdGVyc1Blck1pbnV0ZSA9IGAtYFxuXHRcdH1cblx0fVxuXHRhY3R1YWxMZXR0ZXIgPT0gMCA/IChhY2N1cmFjeSA9IDApIDogKGFjY3VyYWN5ID0gTWF0aC5yb3VuZCgoZ29vZExldHRlciAvIChnb29kTGV0dGVyICsgd3JvbmdMZXR0ZXIpKSAqIDEwMCkpXG5cdHN0YXRzV1BNLmlubmVyVGV4dCA9IGAke3dvcmRzUGVyTWludXRlfWBcblx0c3RhdHNDUE0uaW5uZXJUZXh0ID0gYCR7Y2hhcmFjdGVyc1Blck1pbnV0ZX1gXG5cdHN0YXRzQWNjdXJhY3kuaW5uZXJUZXh0ID0gYCR7YWNjdXJhY3l9JWBcbn1cblxuLy8gU3RhcnQgZ2FtZSwgZ2VuZXJhdGluZyB0ZXh0IGFuZCBmb2N1cyBpbnB1dFxuY29uc3Qgc3RhcnRHYW1lID0gKCkgPT4ge1xuXHRzdGFydFNpdGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXHR0ZXN0U2l0ZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG5cdC8vIGdlbmVyYXRlVGV4dCgpXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiBpbnB1dEZpZWxkLmZvY3VzKCkpXG5cdHRlc3RUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaW5wdXRGaWVsZC5mb2N1cygpKVxufVxuXG4vLyBXaG9sZSBnYW1lIGxvZ2ljXG5jb25zdCBnYW1lTG9naWMgPSBlID0+IHtcblx0Y29uc3QgYWxsTGV0dGVycyA9IHRlc3RUZXh0LmlubmVyVGV4dC5zcGxpdCgnJylcblxuXHRpZiAoaW5wdXRGaWVsZC52YWx1ZS5zcGxpdCgnJylbYWN0dWFsTGV0dGVyXSA9PT0gYWxsTGV0dGVyc1thY3R1YWxMZXR0ZXJdKSB7XG5cdFx0YWxsU3BhbnNbYWN0dWFsTGV0dGVyXS5jbGFzc05hbWUgPSAnJ1xuXHRcdGFsbFNwYW5zW2FjdHVhbExldHRlcl0uY2xhc3NMaXN0LmFkZCgnY29ycmVjdC1sZXR0ZXInKVxuXHRcdGlmICghKGFsbFNwYW5zW2xldHRlclRvVHlwZV0gPT0gdW5kZWZpbmVkKSkge1xuXHRcdFx0YWxsU3BhbnNbbGV0dGVyVG9UeXBlXS5jbGFzc0xpc3QuYWRkKCdsZXR0ZXItdG8tdHlwZScpXG5cdFx0fVxuXHRcdGFjdHVhbExldHRlcisrXG5cdFx0bGV0dGVyVG9UeXBlKytcblx0XHRnb29kTGV0dGVyKytcblx0fSBlbHNlIGlmIChpbnB1dEZpZWxkLnZhbHVlLnNwbGl0KCcnKVthY3R1YWxMZXR0ZXJdKSB7XG5cdFx0YWxsU3BhbnNbYWN0dWFsTGV0dGVyXS5jbGFzc05hbWUgPSAnJ1xuXHRcdGFsbFNwYW5zW2FjdHVhbExldHRlcl0uY2xhc3NMaXN0LmFkZCgnaW5jb3JyZWN0LWxldHRlcicpXG5cdFx0aWYgKCEoYWxsU3BhbnNbbGV0dGVyVG9UeXBlXSA9PSB1bmRlZmluZWQpKSB7XG5cdFx0XHRhbGxTcGFuc1tsZXR0ZXJUb1R5cGVdLmNsYXNzTGlzdC5hZGQoJ2xldHRlci10by10eXBlJylcblx0XHR9XG5cdFx0YWN0dWFsTGV0dGVyKytcblx0XHRsZXR0ZXJUb1R5cGUrK1xuXHRcdHdyb25nTGV0dGVyKytcblx0fSBlbHNlIGlmICgoZS5rZXkgPSAnYmFja3NwYWNlJykpIHtcblx0XHRhbGxTcGFuc1thY3R1YWxMZXR0ZXJdLmNsYXNzTmFtZSA9ICcnXG5cdFx0YWN0dWFsTGV0dGVyLS1cblx0XHRsZXR0ZXJUb1R5cGUtLVxuXHRcdGFsbFNwYW5zW2FjdHVhbExldHRlcl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjb3JyZWN0LWxldHRlcicpID8gZ29vZExldHRlci0tIDogd3JvbmdMZXR0ZXItLVxuXHRcdGFsbFNwYW5zW2xldHRlclRvVHlwZSAtIDFdLmNsYXNzTGlzdC5hZGQoJ2xldHRlci10by10eXBlJylcblx0fVxuXG5cdGlmIChnYW1lTW9kZSA9PSAxICYmIGlucHV0RmllbGQudmFsdWUuc3BsaXQoJycpLmxlbmd0aCA9PSAxKSB7XG5cdFx0aWYgKGRvTm90UmVwZWF0VGltZXIgPT0gMCkge1xuXHRcdFx0ZG9Ob3RSZXBlYXRUaW1lciA9IDFcblx0XHRcdHN0YXJ0VGltZXIoKVxuXHRcdFx0c2hvd1N0YXRzKClcblx0XHR9XG5cdH1cblxuXHRpZiAoZ2FtZU1vZGUgPT0gMCAmJiBpbnB1dEZpZWxkLnZhbHVlLnNwbGl0KCcnKS5sZW5ndGggPT0gMSkge1xuXHRcdGlmIChkb05vdFJlcGVhdFRpbWVyID09IDApIHtcblx0XHRcdGRvTm90UmVwZWF0VGltZXIgPSAxXG5cdFx0XHRzdGFydFRpbWVyKClcblx0XHRcdHNob3dTdGF0cygpXG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlU3RhdHMoKVxuXG5cdGlmIChpbnB1dEZpZWxkLnZhbHVlLnNwbGl0KCcnKS5sZW5ndGggPT0gYWxsTGV0dGVycy5sZW5ndGgpIHtcblx0XHRlbmRHYW1lKClcblx0fVxufVxuXG4vLyBDaG9vc2luZyBnYW1lIG1vZGUgKDAgaXMgZnVsbCB0aW1lIGdhbWUsIDEgaXMgdGltZSBnYW1lKVxuLy8gRnVsbCB0aW1lIGdhbWUgY3VycmVudGx5IGRvZXMgbm90IHdvcmtcbmNvbnN0IGZ1bGxUaW1lR2FtZU1vZGUgPSAoKSA9PiB7XG5cdHN0YXJ0R2FtZSgpXG5cdGdhbWVNb2RlID0gMFxufVxuXG5jb25zdCByZW1haW5pbmdUaW1lR2FtZU1vZGUgPSAoKSA9PiB7XG5cdHN0YXJ0R2FtZSgpXG5cdGdhbWVNb2RlID0gMVxufVxuXG4vLyBFbmRpbmcgZ2FtZSBhbmQgc2hvdyBmaW5hbCBzdGF0aXN0aWNzXG5jb25zdCBlbmRHYW1lID0gKCkgPT4ge1xuXHR0ZXN0U2l0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cdHN1bW1hcnlTaXRlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcblx0c3VtbWFyeVNpdGVXUE0uaW5uZXJUZXh0ID0gd29yZHNQZXJNaW51dGVcblx0c3VtbWFyeVNpdGVBY2N1cmFjeS5pbm5lclRleHQgPSBNYXRoLnJvdW5kKChnb29kTGV0dGVyIC8gKGdvb2RMZXR0ZXIgKyB3cm9uZ0xldHRlcikpICogMTAwKVxufVxuXG5jb25zdCBnb0hvbWUgPSAoKSA9PiB7XG5cdGxvY2F0aW9uLnJlbG9hZCgpXG59XG5cbi8vIExpc3RlbmVycyB0byBidXR0b25zXG5idG4xbWludXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtYWluaW5nVGltZUdhbWVNb2RlKVxuYnRuRnVsbFRleHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdWxsVGltZUdhbWVNb2RlKVxuLy8gV2lsbCBiZSBhZGRlZCBsYXRlclxuLy8gdHJ5QWdhaW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0cnlBZ2FpbilcbmlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBnYW1lTG9naWMpXG5ob21lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ29Ib21lKVxuIl19
